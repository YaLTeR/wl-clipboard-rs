<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Backend API for wayland crates"><title>wayland_backend - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-081576b923113409.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="wayland_backend" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0 (129f3b996 2024-06-10)" data-channel="1.79.0" data-search-js="search-bf21c90c8c1d92b1.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../static.files/storage-e32f0c247825364d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-09095024cf37855e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../wayland_backend/index.html">wayland_backend</a><span class="version">0.3.4</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li></ul></section></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../wayland_backend/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Type ‘S’ or ‘/’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings">Settings</a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">wayland_backend</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../src/wayland_backend/lib.rs.html#1-122">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Backend API for wayland crates</p>
<p>This crate provide low-level APIs for interacting with the Wayland protocol,
both client-side and server-side.</p>
<p>Two possible backends are provided by this crate: the system backend ([<code>sys</code>] module)
which relies on the system-provided wayland libraries, and the rust backend (<a href="rs/index.html" title="mod wayland_backend::rs"><code>rs</code></a> module)
which is an alternative rust implementation of the protocol. The rust backend is always
available, and the system backend is controlled by the <code>client_system</code> and <code>server_system</code>
cargo features. The <code>dlopen</code> cargo feature ensures that the system wayland
libraries are loaded dynamically at runtime, so that your executable does not link them and
can gracefully handle their absence (for example by falling back to X11).</p>
<p>Additionally the default backends are reexported as toplevel <code>client</code> and <code>server</code> modules
in this crate. For both client and server, the default backend is the system one if the
associated cargo feature is enabled, and the rust one otherwise.</p>
<p>Using these reexports is the recommended way to use the crate:</p>
<ul>
<li>If you don’t need the <code>*_system</code> features, an other crate enabling them will not impact your code in
any way as both backends have the same API (the system backend only has more methods)</li>
<li>If your code needs to do FFI, you just need to directly depend on <code>wayland-backend</code> with the
appropriate <code>*_system</code> feature enabled, and all the other crates in your dependency tree will
automatically use the <code>sys</code> backend.</li>
</ul>
<p>Both the <code>wayland-client</code> and <code>wayland-server</code> crates follow this principle, so everything will “Just
Work” when using them.</p>
<h3 id="logging"><a class="doc-anchor" href="#logging">§</a>Logging</h3>
<p>This crate can generate some runtime error message (notably when a protocol error occurs). By default
those messages are printed to stderr. If you activate the <code>log</code> cargo feature, they will instead be
piped through the <code>log</code> crate.</p>
<h3 id="raw-window-handle-integration"><a class="doc-anchor" href="#raw-window-handle-integration">§</a>raw-window-handle integration</h3>
<p>The <code>rwh_06</code> feature activates the [<code>HasDisplayHandle</code>][raw_window_handle::HasDisplayHandle] implementation
for the client module <a href="rs/client/struct.Backend.html" title="struct wayland_backend::rs::client::Backend"><code>Backend</code></a>.</p>
<h4 id="deprecated-raw-window-handle-versions"><a class="doc-anchor" href="#deprecated-raw-window-handle-versions">§</a>Deprecated raw-window-handle versions</h4>
<p>While raw-window-handle 0.5 is supported via the <code>raw-window-handle</code> feature, it is deprecated and will be removed in the future.</p>
<p>Note that the <code>client_system</code> feature must also be enabled for the implementation to be activated.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><code>pub extern crate <a class="mod" href="../smallvec/index.html" title="mod smallvec">smallvec</a>;</code></div></li><li><div class="item-name" id="reexport.client"><code>pub use rs::<a class="mod" href="rs/client/index.html" title="mod wayland_backend::rs::client">client</a>;</code></div></li><li><div class="item-name" id="reexport.server"><code>pub use rs::<a class="mod" href="rs/server/index.html" title="mod wayland_backend::rs::server">server</a>;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="protocol/index.html" title="mod wayland_backend::protocol">protocol</a></div><div class="desc docblock-short">Types and utilities for manipulating the Wayland protocol</div></li><li><div class="item-name"><a class="mod" href="rs/index.html" title="mod wayland_backend::rs">rs</a></div><div class="desc docblock-short">Rust implementations of the Wayland backends</div></li></ul><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.message.html" title="macro wayland_backend::message">message</a></div><div class="desc docblock-short">Helper macro for quickly making a <a href="protocol/struct.Message.html" title="struct wayland_backend::protocol::Message"><code>Message</code></a></div></li></ul></section></div></main></body></html>